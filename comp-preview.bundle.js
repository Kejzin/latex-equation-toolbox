(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=n(117),a=s(n(22)),i=s(n(685)),u=c(n(687)),l=c(n(752));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,y(t).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){var e=r.createElement("div",null,"Empty math");return this.props.latex&&(e=r.createElement(u.default,{latex:this.props.latex})),r.createElement(i.Container,null,r.createElement("div",null,r.createElement(i.Header,null,"Preview rendered math")," ",e,r.createElement(l.default,{store:this.props.store})))}}]),t}();b.contextTypes={store:a.object};var v=(0,o.connect)(function(e){return{latex:e.input.latex,variables:e.calculations.variables}})(b);t.default=v},685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=t.Container=t.CenterDiv=t.ImageWrapper=t.MathFieldDiv=t.MathJaxStyle=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(118));function o(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .MathJax_Preview {\n    display: none !important;\n  }\n\n  .MJXc-display {\n    margin: 4px 0 !important;\n    user-select: none;\n    font-size: 24px !important;\n  }\n"]);return o=function(){return e},e}var a=(0,r.createGlobalStyle)(o());t.MathJaxStyle=a;var i=r.default.div.withConfig({displayName:"styles__MathFieldDiv",componentId:"sc-1s1qf1g-0"})(["min-height:90px;"]);t.MathFieldDiv=i;var u=r.default.div.withConfig({displayName:"styles__ImageWrapper",componentId:"sc-1s1qf1g-1"})(["background-color:white;display:table;margin:auto;padding:8px;"]);t.ImageWrapper=u;var l=r.default.div.withConfig({displayName:"styles__CenterDiv",componentId:"sc-1s1qf1g-2"})(["text-align:center;"]);t.CenterDiv=l;var c=r.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1s1qf1g-3"})(["height:100%;overflow-y:scroll;padding:8px 12px 16px;"]);t.Container=c;var s=r.default.h2.withConfig({displayName:"styles__Header",componentId:"sc-1s1qf1g-4"})(["padding:0;margin:0;"]);t.Header=s},686:function(e,t,n){"use strict";var r;n.r(t),window.MathJax={AuthorInit:function(){console.log("Initialization")}};var o=[];window.MathJax={jax:["input/TeX","output/SVG"],extensions:["tex2jax.js","MathMenu.js","MathZoom.js"],showMathMenu:!1,showProcessingMessages:!1,messageStyle:"none",SVG:{useGlobalCache:!1},TeX:{extensions:["AMSmath.js","AMSsymbols.js","autoload-all.js"]},AuthorInit:function(){console.log("AuthorInit called"),MathJax.Hub.Register.StartupHook("End",function(){r=function(e,t){var n="\\[".concat(e,"\\]"),r=document.createElement("div");r.innerHTML=n;var o={svg:"",img:""};MathJax.Hub.Queue(["Typeset",MathJax.Hub,r]),MathJax.Hub.Queue(function(){var e=r.getElementsByTagName("svg")[0];e.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=e.getAttribute("width"),a=e.getAttribute("height"),i=n.substr(0,n.length-2),u=a.substr(0,a.length-2);e.setAttribute("width","".concat(1*i,"ex")),e.setAttribute("height","".concat(1*u,"ex")),o.svg=e.outerHTML;var l=new Image,c="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(o.svg)));o.svgData=c,l.src=c,l.onload=function(){var e=document.createElement("canvas");e.width=l.width,e.height=l.height,e.getContext("2d").drawImage(l,0,0),o.img=e.toDataURL("image/png"),t(o)}})};for(var e=0;e<o.length;e++){(0,o[e])(r)}o=[]})}},function(e,t){(t=e.createElement("script")).type="text/javascript",t.async=!0,t.onload=function(){},t.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js",e.getElementsByTagName("head")[0].appendChild(t)}(document),t.default=function(){return new Promise(function(e){void 0===r?o.push(e):e(r)})}},687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(5)),o=l(n(685)),a=u(n(692)),i=u(n(686));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=n(188),h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,p(t).call(this,e))).oldLatex="",n.newestPromise=void 0,n.state={svgData:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.Component),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"updateMath",value:function(){var e=this,t=this;(0,i.default)().then(function(n){n(e.props.latex,function(e){t.setState({svgData:e.svgData})})})}},{key:"delayedUpdateMath",value:function(){var e=new Promise(function(e){console.log("Waiting a sec to update"),setTimeout(e,400)});this.newestPromise=e;var t=this;e.then(function(n){t.newestPromise===e?t.updateMath():console.log("A newer promise was found")})}},{key:"render",value:function(){this.props.latex!==this.oldLatex&&(this.oldLatex=this.props.latex,this.delayedUpdateMath());var e=null;if(this.props.latex)try{e=(new y).parseLatex(this.props.latex).toMath()}catch(e){}return r.createElement(o.MathFieldDiv,null,r.createElement(o.MathJaxStyle,null),r.createElement(o.ImageWrapper,null,r.createElement("img",{src:this.state.svgData})),r.createElement(o.CenterDiv,null,r.createElement(a.default,{value:this.props.latex,name:"Copy as latex"}),r.createElement(a.default,{value:e,name:"Copy as text"})))}}]),t}();t.default=h},692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(5)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(694));var a=function(e){return r.createElement(o.default,{"data-clipboard-text":e.value},e.name)};t.default=a},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=n(117),a=n(119),i=n(189),u=c(n(685)),l=function(e){return e&&e.__esModule?e:{default:e}}(n(687));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=n(188),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"inputChanged",value:function(e,t){isNaN(Number(e.target.value))||""===e.target.value?this.props.setVariable(t,null):this.props.setVariable(t,Number(e.target.value))}},{key:"render",value:function(){var e=this,t=null,n=null;if(this.props.latex&&!this.props.latex.includes("="))try{t=(0,i.solveVariables)(this.props.latex,this.props.variables),n=r.createElement(l.default,{latex:t})}catch(e){try{var o=new h(this.props.latex).toMath();n=r.createElement(u.CenterDiv,null,"Could not simplify math: ",e.message,r.createElement("br",null),r.createElement("i",null,o))}catch(e){n=r.createElement(u.CenterDiv,null,"Could not parse latex: ",e.message)}}else this.props.latex.includes("=")&&(n=r.createElement(u.CenterDiv,null,"Cannot simplify equations"));var a=this,c=Object.keys(this.props.variables).map(function(t){return r.createElement("div",{key:t},t,":",r.createElement("input",{value:e.props.variables[t]||"",onChange:function(e){a.inputChanged(e,t)}}))}),s=null;return c.length>0&&(s=r.createElement("div",null,r.createElement("h3",null,"Solve variables:"),c)),r.createElement("div",null,r.createElement(u.Header,null,"Simplified expression")," ",n,s)}}]),t}(),v=(0,o.connect)(function(e){return Object.assign({},e.calculations,{latex:e.input.latex})},a.actions)(b);t.default=v}}]);
//# sourceMappingURL=comp-preview.bundle.js.map