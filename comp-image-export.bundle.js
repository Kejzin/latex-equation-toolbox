(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}(n(5)),r=n(117),a=c(n(118)),i=c(n(686)),u=n(191);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=a.default.div.withConfig({displayName:"ImageExport__ScrollBox",componentId:"sc-12wc4ho-0"})(["overflow-y:scroll;height:100%;"]),d=a.default.div.withConfig({displayName:"ImageExport__Container",componentId:"sc-12wc4ho-1"})(["margin:8px 12px 16px;"]),g=a.default.h2.withConfig({displayName:"ImageExport__Title",componentId:"sc-12wc4ho-2"})(["margin:0;"]),b=a.default.div.withConfig({displayName:"ImageExport__MathImageWrapper",componentId:"sc-12wc4ho-3"})(["background-color:white;display:table;"]),w=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=p(this,f(t).apply(this,arguments))).oldLatex="",e.newestPromise=void 0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"generatePNG",value:function(){if(this.props.latex!==this.oldLatex){var e=this.props.dispatch,t=new Promise(function(e){setTimeout(e,400)});this.newestPromise=t;var n=this;t.then(function(o){t===n.newestPromise&&(0,i.default)().then(function(t){t(n.props.latex,function(t){e(u.actions.updateImage(t.img,t.svg,t.svgData))})})})}}},{key:"render",value:function(){this.generatePNG();window.btoa(unescape(encodeURIComponent(this.props.imageExport.svg)));return this.oldLatex=this.props.latex,o.createElement(h,null,o.createElement(d,null,o.createElement(g,null,"Image export view"),"You can drag and drop the images below, into other applications or a folder.",o.createElement("br",null),o.createElement("br",null),"SVG",o.createElement("br",null),o.createElement(b,null,o.createElement("img",{src:this.props.imageExport.svgData})),o.createElement("br",null),"PNG",o.createElement("br",null),o.createElement(b,null,o.createElement("img",{src:this.props.imageExport.png}))))}}]),t}(),y=(0,r.connect)(function(e){return{latex:e.input.latex,imageExport:e.imageExport}})(w);t.default=y},686:function(e,t,n){"use strict";var o;n.r(t),window.MathJax={AuthorInit:function(){console.log("Initialization")}};var r=[];window.MathJax={jax:["input/TeX","output/SVG"],extensions:["tex2jax.js","MathMenu.js","MathZoom.js"],showMathMenu:!1,showProcessingMessages:!1,messageStyle:"none",SVG:{useGlobalCache:!1},TeX:{extensions:["AMSmath.js","AMSsymbols.js","autoload-all.js"]},AuthorInit:function(){console.log("AuthorInit called"),MathJax.Hub.Register.StartupHook("End",function(){o=function(e,t){var n="\\[".concat(e,"\\]"),o=document.createElement("div");o.innerHTML=n;var r={svg:"",img:""};MathJax.Hub.Queue(["Typeset",MathJax.Hub,o]),MathJax.Hub.Queue(function(){var e=o.getElementsByTagName("svg")[0];e.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=e.getAttribute("width"),a=e.getAttribute("height"),i=n.substr(0,n.length-2),u=a.substr(0,a.length-2);e.setAttribute("width","".concat(1*i,"ex")),e.setAttribute("height","".concat(1*u,"ex")),r.svg=e.outerHTML;var c=new Image,s="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(r.svg)));r.svgData=s,c.src=s,c.onload=function(){var e=document.createElement("canvas");e.width=c.width,e.height=c.height,e.getContext("2d").drawImage(c,0,0),r.img=e.toDataURL("image/png"),t(r)}})};for(var e=0;e<r.length;e++){(0,r[e])(o)}r=[]})}},function(e,t){(t=e.createElement("script")).type="text/javascript",t.async=!0,t.onload=function(){},t.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js",e.getElementsByTagName("head")[0].appendChild(t)}(document),t.default=function(){return new Promise(function(e){void 0===o?r.push(e):e(o)})}}}]);
//# sourceMappingURL=comp-image-export.bundle.js.map